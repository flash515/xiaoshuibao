<!-- 背景层 -->
<image class="bgimage" src="{{cardbg}}" mode="scaleToFill" />
<!-- 名片层 -->
<view class="uplayout">
  <view class="namecard">
    <view class="companyname">{{companyname}}</view>
    <view class="user" style="display:flex; flex-direction:row; justify-content:space-between;align-items:flex-end;">
      <view style="display:flex;flex-direction:column;justify-content:flex-start;">
        <text>\n</text>
        <view class="username">{{username}}</view>
        <view wx:if="{{positon}}" class="position">{{position}}</view>
        <view wx:if="{{handphone}}" class="handphone">手机：{{handphone}}</view>
        <view wx:if="{{wechat}}" class="wechat">微信：{{wechat}}</view>
        <view wx:if="{{telephone}}" class="telephone">座机：{{telephone}}</view>
      </view>
      <image class="companylogo" src="{{companylogo}}"></image>
    </view>
    <view>
      <view wx:if="{{email}}" class="email">邮箱：{{email}}</view>
      <view wx:if="{{website}}" class="website">网站：{{website}}</view>
      <view wx:if="{{address}}" class="address">地址：{{address}}</view>
    </view>
  </view>
</view>

<view class="mainframe">
  <l-tabs bind:linchange="changeTabs">
    <l-tabpanel tab="名片信息" key="one" slot="one">
      <l-input type="text" label="姓名：" value="{{username}}" bind:lininput="bvUserName">
      </l-input>
      <l-input type="text" label="职务：" value="{{position}}" bind:lininput="bvPosition">
      </l-input>
      <l-input type="number" label="手机：" value="{{handphone}}" bind:lininput="bvHandPhone">
      </l-input>
      <l-input type="text" label="微信：" value="{{wechat}}" bind:lininput="bvWeChat"></l-input>
      <l-input type="text" label="邮箱：" value="{{email}}" bind:lininput="bvEmail"></l-input>
      <l-input type="text" label="企业名称：" value="{{companyname}}" bind:lininput="bvCompanyName"></l-input>
      <l-input type="text" label="座机：" value="{{telephone}}" bind:lininput="bvTelephone"></l-input>
      <l-input type="text" label="网站：" value="{{website}}" bind:lininput="bvWebsite"></l-input>
      <l-input type="text" label="地址：" value="{{address}}" bind:lininput="bvAddress"></l-input>
      <l-input type="text" label="行业分类：" value="{{sort}}" bind:lininput="bvSort"></l-input>
      <l-input type="text" label="关键词：" value="{{keyword}}" bind:lininput="bvKeyWord"></l-input>
      <label class="labal">企业简介：</label>
      <l-textarea type="text" indicator="{{true}}" maxlength="140" auto-height="{{true}}" value="{{businessscope}}" bind:lininput="bvBusinessScope"></l-textarea>

      <text>\n</text>
    </l-tabpanel>
    <l-tabpanel tab="名片背景" key="two" slot="two">
        <scroll-view scroll-y="true" style="display: flex;flex-direction:column; width: 100%;height: 400rpx; box-sizing: border-box;padding-left: 20rpx;padding-right: 20rpx;">
          <label class="text">系统背景：</label>
          <l-radio-group placement="column" bind:linchange="bvBgSelect">
            <block wx:for="{{cardbgarray}}" wx:key="key">
              <l-radio placement="left" color="black" select-color="green" size="40" key="{{item}}" l-class="radio">
                <image class="bgarray" src="{{item}}" />
              </l-radio>
            </block>
            <label class="text">自选背景：</label>
            <l-radio placement="left" color="black" select-color="green" size="40" key="{{bgview}}" l-class="radio">
              <l-image-picker count="1" bind:linchange="bvChooseBg" bind:linremove="bvRemoveBg" urls="{{bgview}}" custom="{{true}}" l-item-class="bgarray" l-class="bgarray"  >
               </l-image-picker>
            </l-radio>
          </l-radio-group>

        </scroll-view>
      <text>\n</text>
    </l-tabpanel>
    <l-tabpanel tab="企业Logo" key="three" slot="three">
      <view style="display:flex; flex-direction:row;margin-top: 10rpx; justify-content:space-between;align-items:center;font-size: 28rpx;">
        <label class="text">选择并上传企业Logo：</label>

      </view>
      <view style="font-size: 28rpx;padding-left:25rpx;padding-right:25rpx; padding-top: 10rpx;">
        <l-image-picker size="3" count="1" bind:linchange="bvChooseLogo" bind:linremove="bvRemoveLogo" urls="{{logoview}}" />

      </view>
      <text>\n</text>
    </l-tabpanel>
    <l-tabpanel tab="图片资料" key="four" slot="four">
      <view style="display:flex; flex-direction:row;margin-top: 10rpx; justify-content:space-between;align-items:center;font-size: 28rpx;">
        <label class="text">选择并上传图片资料：</label>

      </view>
      <view style="font-size: 28rpx;padding-left:25rpx;padding-right:25rpx; padding-top: 10rpx;">
        <l-image-picker size="3" count="4" bind:linchange="bvChooseImage" bind:linremove="bvRemoveImage" urls="{{imageview}}" />
      </view>
      <text>\n</text>
    </l-tabpanel>


  </l-tabs>
  <view style="display:flex; flex-direction:row; justify-content:space-between;">

    <l-button size="mini" shape="semicircle" icon="up" icon-color="#3683d6" plain="{{true}}" form-type="submit" bind:lintap="bvUpdate">保存信息
    </l-button>
    <l-button size="mini" shape="semicircle" plain="{{true}}" icon="eye" icon-color="#3683d6" bind:lintap="bvView">预览名片</l-button>
  </view>
  <text>\n</text>
</view>