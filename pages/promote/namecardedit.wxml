<!-- 背景层 -->
<image class="bgimage" src="{{namecardbg}}" mode="scaleToFill" />
<!-- 名片层 -->
<view class="uplayout">
  <view class="namecard">
    <view class="companyname">{{companyname}}</view>
    <view class="user" style="display:flex; flex-direction:row; justify-content:space-between;align-items:flex-end;">
      <view style="display:flex;flex-direction:column;justify-content:flex-start;">
        <text>\n</text>
        <view class="username">{{username}}</view>
        <view wx:if="{{positon!=''&&position!=undefined}}" class="position">{{position}}</view>
        <view class="userphone">手机：{{userphone}}</view>
        <view wx:if="{{weichat!=''&&weichat!=undefined}}" class="weichat">微信：{{weichat}}</view>
        <view wx:if="{{telephone!=''&&telephone!= undefined}}" class="telephone">座机：{{telephone}}</view>
      </view>
      <image class="companylogo" src="{{companylogo}}"></image>
    </view>
    <view>
      <view wx:if="{{email!=''&&email!=undefined}}" class="email">邮箱：{{email}}</view>
      <view wx:if="{{website!=''&&website!=undefined}}" class="website">网站：{{website}}</view>
      <view wx:if="{{address!=''&&address!=undefined}}" class="address">地址：{{address}}</view>
    </view>
  </view>
</view>

<view class="mainframe">
  <l-tabs bind:linchange="changeTabs">
    <l-tabpanel tab="名片信息" key="one" slot="one">
      <view>
        <l-input type="number" label="手机号：" value="{{userphone}}" bind:lininput="bvUserPhone" required="{{true}}">
        </l-input>
      </view>
      <view style="display:flex; flex-direction:row; justify-content:space-between;align-items:center">
        <l-input type="number" class="phonecode" label="验证码：" value="{{phonecode}}" bind:lininput="bvPhoneCode" required="{{true}}">
        </l-input>
        <l-button shape="semicircle" plain="{{true}}" bind:lintap="bvSendCode" size="mini" disabled='{{disabled}}'>{{time}}</l-button>
      </view>
      <view class="line"></view>
      <view>
        <l-input type="text" label="我的姓名：" value="{{username}}" bind:lininput="bvUserName">
        </l-input>
      </view>
      <view>
        <l-input type="text" label="职务：" value="{{position}}" bind:lininput="bvPosition">
        </l-input>
      </view>
      <view>
        <l-input type="text" label="微信：" value="{{weichat}}" bind:lininput="bvWeiChat"></l-input>
      </view>
      <view>
        <l-input type="text" label="邮箱：" value="{{email}}" bind:lininput="bvEmail"></l-input>
      </view>

      <view>
        <l-input type="text" label="企业名称：" value="{{companyname}}" bind:lininput="bvCompanyName"></l-input>
      </view>
      <view>
        <l-input type="text" label="座机：" value="{{telephone}}" bind:lininput="bvTelephone"></l-input>
      </view>
      <view>
        <l-input type="text" label="网站：" value="{{website}}" bind:lininput="bvWebsite"></l-input>
      </view>
      <view>
        <l-input type="text" label="地址：" value="{{address}}" bind:lininput="bvAddress"></l-input>
      </view>

      <view>
        <label class="labal">企业简介：</label>
        <l-textarea type="text" indicator="{{true}}" maxlength="140" auto-height="{{true}}" value="{{businessscope}}" bind:lininput="bvBusinessScope"></l-textarea>
      </view>


    </l-tabpanel>
    <l-tabpanel tab="名片背景" key="two" slot="two">
      <l-radio-group placement="row">
        <block wx:for="{{namecardbgarray}}" wx:for-index="index" wx:key="key">
          <l-radio custom="{{true}}" color="red" size="32" select-color="green">
            <image slot="custom" key="{{index}}" src="{{item}}" class="bgarray" />

          </l-radio>
        </block>
      </l-radio-group>

    </l-tabpanel>
    <l-tabpanel tab="企业Logo" key="three" slot="three">
      <view style="display:flex; flex-direction:row;margin-top: 10rpx; justify-content:space-between;align-items:center;font-size: 28rpx;">
        <label class="text">选择并上传企业Logo：</label>

      </view>
      <view style="font-size: 28rpx;padding-left:25rpx;padding-right:25rpx; padding-top: 10rpx;">
        <l-image-picker size="2" count="1" bind:linchange="bvChooseLogo" bind:linremove="bvRemoveLogo" urls="{{logoview}}" />
        <l-button plain="{{true}}" bind:lintap="bvUploadLogo">上传图片</l-button>
      </view>
    </l-tabpanel>
  </l-tabs>
  <text>\n</text>
  <view hidden="{{btnhidden}}" style="display:flex; flex-direction:row; justify-content:space-between;">

    <l-button type="default" shape="semicircle" icon="to-top" icon-color="white" form-type="submit" bind:lintap="UpdateData">保存信息
    </l-button>
    <text space="emsp" decode="{{true}}">&emsp;</text>
    <l-button type="default" bind:lintap="RefreshData" shape="semicircle" icon="loading" icon-color="white">刷新信息
    </l-button>
  </view>

</view>